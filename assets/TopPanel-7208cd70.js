import{R as be,d as Se,z as we,r as Ae,C as xe,K as Ce,L as Ie,N as U,h as M,o as L,e as Le,w as N,c as P,q as De,F as Te,a as D,u as Y,E as Pe,n as ke,b as k,i as Be,t as Q,P as X,S as Oe,Q as Ee,g as Me}from"./index-9eb1327f.js";import{T as Ne}from"./index-911fe81b.js";import{b as J}from"./index-49a69262.js";import{_ as O,K as le,D as de,M as Re,N as ue,f as W,u as B,r as j,G as Ve,O as We,Q as Fe,R as q,T as ce,d as pe,U as ze,n as Ge,m as Ue,V as Ye,W as Xe,k as $e,h as He,e as qe,X as Ze,Y as ge,C as Ke,S as ve,$ as Qe,y as Je,a0 as je,a1 as et,a2 as tt,F as rt,H as at,I as nt,J as ee}from"./charts-b6e515e0.js";import it from"./usergroup-419e87f0.js";var fe=function(a){O(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.getInitialData=function(e,t){return le(this.getSource(),this,{useEncodeDefaulter:!0})},r.prototype.getMarkerPosition=function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(t.clampData(e)),i=this.getData(),s=i.getLayout("offset"),o=i.getLayout("size"),l=t.getBaseAxis().isHorizontal()?0:1;return n[l]+=s+o/2,n}return[NaN,NaN]},r.type="series.__base_bar__",r.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},r}(de);de.registerClass(fe);const te=fe;var st=function(a){O(r,a);function r(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=r.type,e}return r.prototype.getInitialData=function(){return le(this.getSource(),this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},r.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},r.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},r.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},r.type="series.bar",r.dependencies=["grid","polar"],r.defaultOption=Re(te.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),r}(te);const ot=st;var ht=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),lt=function(a){O(r,a);function r(e){var t=a.call(this,e)||this;return t.type="sausage",t}return r.prototype.getDefaultShape=function(){return new ht},r.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,s=Math.max(t.r0||0,0),o=Math.max(t.r,0),l=(o-s)*.5,h=s+l,u=t.startAngle,d=t.endAngle,g=t.clockwise,c=Math.cos(u),v=Math.sin(u),f=Math.cos(d),S=Math.sin(d),w=g?d-u<Math.PI*2:u-d<Math.PI*2;w&&(e.moveTo(c*s+n,v*s+i),e.arc(c*h+n,v*h+i,l,-Math.PI+u,u,!g)),e.arc(n,i,o,u,d,!g),e.moveTo(f*o+n,S*o+i),e.arc(f*h+n,S*h+i,l,d-Math.PI*2,d-Math.PI,!g),s!==0&&(e.arc(n,i,s,d,u,g),e.moveTo(c*s+n,S*s+i)),e.closePath()},r}(ue);const dt=lt;var R=[0,0],$=Math.max,H=Math.min;function ut(a,r){var e=a.getArea&&a.getArea();if(ge(a,"cartesian2d")){var t=a.getBaseAxis();if(t.type!=="category"||!t.onBand){var n=r.getLayout("bandWidth");t.isHorizontal()?(e.x-=n,e.width+=n*2):(e.y-=n,e.height+=n*2)}}return e}var ct=function(a){O(r,a);function r(){var e=a.call(this)||this;return e.type=r.type,e._isFirstFrame=!0,e}return r.prototype.render=function(e,t,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var s=e.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,i))},r.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},r.prototype.incrementalRender=function(e,t){this._incrementalRenderLarge(e,t)},r.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;(this._isLargeDraw==null||t!==this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},r.prototype._renderNormal=function(e,t,n,i){var s=this.group,o=e.getData(),l=this._data,h=e.coordinateSystem,u=h.getBaseAxis(),d;h.type==="cartesian2d"?d=u.isHorizontal():h.type==="polar"&&(d=u.dim==="angle");var g=e.isAnimationEnabled()?e:null,c=pt(e,h);c&&this._enableRealtimeSort(c,o,n);var v=e.get("clip",!0)||c,f=ut(h,o);s.removeClipPath();var S=e.get("roundCap",!0),w=e.get("showBackground",!0),T=e.getModel("backgroundStyle"),E=T.get("borderRadius")||0,I=[],A=this._backgroundEls,C=i&&i.isInitSort,Z=i&&i.type==="changeAxisOrder";function K(p){var b=V[h.type](o,p),m=bt(h,d,b);return m.useStyle(T.getItemStyle()),h.type==="cartesian2d"&&m.setShape("r",E),I[p]=m,m}o.diff(l).add(function(p){var b=o.getItemModel(p),m=V[h.type](o,p,b);if(w&&K(p),!!o.hasValue(p)){var x=!1;v&&(x=re[h.type](f,m));var _=ae[h.type](e,o,p,m,d,g,u.model,!1,S);ie(_,o,p,b,m,e,d,h.type==="polar"),C?_.attr({shape:m}):c?ne(c,g,_,m,p,d,!1,!1):W(_,{shape:m},e,p),o.setItemGraphicEl(p,_),s.add(_),_.ignore=x}}).update(function(p,b){var m=o.getItemModel(p),x=V[h.type](o,p,m);if(w){var _=void 0;A.length===0?_=K(b):(_=A[b],_.useStyle(T.getItemStyle()),h.type==="cartesian2d"&&_.setShape("r",E),I[p]=_);var _e=V[h.type](o,p),ye=me(d,_e,h);B(_,{shape:ye},g,p)}var y=l.getItemGraphicEl(b);if(!o.hasValue(p)){s.remove(y),y=null;return}var G=!1;v&&(G=re[h.type](f,x),G&&s.remove(y)),y||(y=ae[h.type](e,o,p,x,d,g,u.model,!!y,S)),Z||ie(y,o,p,m,x,e,d,h.type==="polar"),C?y.attr({shape:x}):c?ne(c,g,y,x,p,d,!0,Z):B(y,{shape:x},e,p,null),o.setItemGraphicEl(p,y),y.ignore=G,s.add(y)}).remove(function(p){var b=l.getItemGraphicEl(p);b&&j(b,e,p)}).execute();var F=this._backgroundGroup||(this._backgroundGroup=new Ve);F.removeAll();for(var z=0;z<I.length;++z)F.add(I[z]);s.add(F),this._backgroundEls=I,this._data=o},r.prototype._renderLarge=function(e,t,n){this._clear(),oe(e,this.group),this._updateLargeClip(e)},r.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),oe(t,this.group,!0)},r.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)?We(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},r.prototype._enableRealtimeSort=function(e,t,n){var i=this;if(t.count()){var s=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var o=function(l){var h=t.getItemGraphicEl(l);if(h){var u=h.shape;return(s.isHorizontal()?Math.abs(u.height):Math.abs(u.width))||0}else return 0};this._onRendered=function(){i._updateSortWithinSameData(t,o,s,n)},n.getZr().on("rendered",this._onRendered)}}},r.prototype._dataSort=function(e,t,n){var i=[];return e.each(e.mapDimension(t.dim),function(s,o){var l=n(o);l=l??NaN,i.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),i.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:Fe(i,function(s){return s.ordinalNumber})}},r.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var i=n.scale,s=e.mapDimension(n.dim),o=Number.MAX_VALUE,l=0,h=i.getOrdinalMeta().categories.length;l<h;++l){var u=e.rawIndexOf(s,i.getRawOrdinalNumber(l)),d=u<0?Number.MIN_VALUE:t(e.indexOfRawIndex(u));if(d>o)return!0;o=d}return!1},r.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,i=n.getExtent(),s=Math.max(0,i[0]),o=Math.min(i[1],n.getOrdinalMeta().categories.length-1);s<=o;++s)if(e.ordinalNumbers[s]!==n.getRawOrdinalNumber(s))return!0},r.prototype._updateSortWithinSameData=function(e,t,n,i){if(this._isOrderChangedWithinSameData(e,t,n)){var s=this._dataSort(e,n,t);this._isOrderDifferentInView(s,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:s}))}},r.prototype._dispatchInitSort=function(e,t,n){var i=t.baseAxis,s=this._dataSort(e,i,function(o){return e.get(e.mapDimension(t.otherAxis.dim),o)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:s,animation:{duration:0}})},r.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},r.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},r.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},r.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){j(i,e,q(i).dataIndex)})):t.removeAll(),this._data=null,this._isFirstFrame=!0},r.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},r.type="bar",r}(Ke),re={cartesian2d:function(a,r){var e=r.width<0?-1:1,t=r.height<0?-1:1;e<0&&(r.x+=r.width,r.width=-r.width),t<0&&(r.y+=r.height,r.height=-r.height);var n=a.x+a.width,i=a.y+a.height,s=$(r.x,a.x),o=H(r.x+r.width,n),l=$(r.y,a.y),h=H(r.y+r.height,i),u=o<s,d=h<l;return r.x=u&&s>n?o:s,r.y=d&&l>i?h:l,r.width=u?0:o-s,r.height=d?0:h-l,e<0&&(r.x+=r.width,r.width=-r.width),t<0&&(r.y+=r.height,r.height=-r.height),u||d},polar:function(a,r){var e=r.r0<=r.r?1:-1;if(e<0){var t=r.r;r.r=r.r0,r.r0=t}var n=H(r.r,a.r),i=$(r.r0,a.r0);r.r=n,r.r0=i;var s=n-i<0;if(e<0){var t=r.r;r.r=r.r0,r.r0=t}return s}},ae={cartesian2d:function(a,r,e,t,n,i,s,o,l){var h=new ce({shape:pe({},t),z2:1});if(h.__dataIndex=e,h.name="item",i){var u=h.shape,d=n?"height":"width";u[d]=0}return h},polar:function(a,r,e,t,n,i,s,o,l){var h=t.startAngle<t.endAngle,u=!n&&l?dt:ve,d=new u({shape:ze({clockwise:h},t),z2:1});if(d.name="item",i){var g=d.shape,c=n?"r":"endAngle",v={};g[c]=n?0:t.startAngle,v[c]=t[c],(o?B:W)(d,{shape:v},i)}return d}};function pt(a,r){var e=a.get("realtimeSort",!0),t=r.getBaseAxis();if(e&&t.type==="category"&&r.type==="cartesian2d")return{baseAxis:t,otherAxis:r.getOtherAxis(t)}}function ne(a,r,e,t,n,i,s,o){var l,h;i?(h={x:t.x,width:t.width},l={y:t.y,height:t.height}):(h={y:t.y,height:t.height},l={x:t.x,width:t.width}),o||(s?B:W)(e,{shape:l},r,n,null);var u=r?a.baseAxis.model:null;(s?B:W)(e,{shape:h},u,n)}var V={cartesian2d:function(a,r,e){var t=a.getItemLayout(r),n=e?vt(e,t):0,i=t.width>0?1:-1,s=t.height>0?1:-1;return{x:t.x+i*n/2,y:t.y+s*n/2,width:t.width-i*n,height:t.height-s*n}},polar:function(a,r,e){var t=a.getItemLayout(r);return{cx:t.cx,cy:t.cy,r0:t.r0,r:t.r,startAngle:t.startAngle,endAngle:t.endAngle}}};function gt(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function ie(a,r,e,t,n,i,s,o){var l=r.getItemVisual(e,"style");o||a.setShape("r",t.get(["itemStyle","borderRadius"])||0),a.useStyle(l);var h=t.getShallow("cursor");if(h&&a.attr("cursor",h),!o){var u=s?n.height>0?"bottom":"top":n.width>0?"left":"right",d=Ge(t);Ue(a,d,{labelFetcher:i,labelDataIndex:e,defaultText:Ye(i.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:u});var g=a.getTextContent();Xe(g,d,i.getRawValue(e),function(v){return Qe(r,v)})}var c=t.getModel(["emphasis"]);$e(a,c.get("focus"),c.get("blurScope")),He(a,t),gt(n)&&(a.style.fill="none",a.style.stroke="none",qe(a.states,function(v){v.style&&(v.style.fill=v.style.stroke="none")}))}function vt(a,r){var e=a.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var t=a.get(["itemStyle","borderWidth"])||0,n=isNaN(r.width)?Number.MAX_VALUE:Math.abs(r.width),i=isNaN(r.height)?Number.MAX_VALUE:Math.abs(r.height);return Math.min(t,n,i)}var ft=function(){function a(){}return a}(),se=function(a){O(r,a);function r(e){var t=a.call(this,e)||this;return t.type="largeBar",t}return r.prototype.getDefaultShape=function(){return new ft},r.prototype.buildPath=function(e,t){for(var n=t.points,i=this.__startPoint,s=this.__baseDimIdx,o=0;o<n.length;o+=2)i[s]=n[o+s],e.moveTo(i[0],i[1]),e.lineTo(n[o],n[o+1])},r}(ue);function oe(a,r,e){var t=a.getData(),n=[],i=t.getLayout("valueAxisHorizontal")?1:0;n[1-i]=t.getLayout("valueAxisStart");var s=t.getLayout("largeDataIndices"),o=t.getLayout("barWidth"),l=a.getModel("backgroundStyle"),h=a.get("showBackground",!0);if(h){var u=t.getLayout("largeBackgroundPoints"),d=[];d[1-i]=t.getLayout("backgroundStart");var g=new se({shape:{points:u},incremental:!!e,silent:!0,z2:0});g.__startPoint=d,g.__baseDimIdx=i,g.__largeDataIndices=s,g.__barWidth=o,yt(g,l,t),r.add(g)}var c=new se({shape:{points:t.getLayout("largePoints")},incremental:!!e});c.__startPoint=n,c.__baseDimIdx=i,c.__largeDataIndices=s,c.__barWidth=o,r.add(c),_t(c,a,t),q(c).seriesIndex=a.seriesIndex,a.get("silent")||(c.on("mousedown",he),c.on("mousemove",he))}var he=Ze(function(a){var r=this,e=mt(r,a.offsetX,a.offsetY);q(r).dataIndex=e>=0?e:null},30,!1);function mt(a,r,e){var t=a.__baseDimIdx,n=1-t,i=a.shape.points,s=a.__largeDataIndices,o=Math.abs(a.__barWidth/2),l=a.__startPoint[n];R[0]=r,R[1]=e;for(var h=R[t],u=R[1-t],d=h-o,g=h+o,c=0,v=i.length/2;c<v;c++){var f=c*2,S=i[f+t],w=i[f+n];if(S>=d&&S<=g&&(l<=w?u>=l&&u<=w:u>=w&&u<=l))return s[c]}return-1}function _t(a,r,e){var t=e.getVisual("style");a.useStyle(pe({},t)),a.style.fill=null,a.style.stroke=t.fill,a.style.lineWidth=e.getLayout("barWidth")}function yt(a,r,e){var t=r.get("borderColor")||r.get("color"),n=r.getItemStyle();a.useStyle(n),a.style.fill=null,a.style.stroke=t,a.style.lineWidth=e.getLayout("barWidth")}function me(a,r,e){if(ge(e,"cartesian2d")){var t=r,n=e.getArea();return{x:a?t.x:n.x,y:a?n.y:t.y,width:a?t.width:n.width,height:a?n.height:t.height}}else{var n=e.getArea(),i=r;return{cx:n.cx,cy:n.cy,r0:a?n.r0:i.r0,r:a?n.r:i.r,startAngle:a?i.startAngle:0,endAngle:a?i.endAngle:Math.PI*2}}}function bt(a,r,e){var t=a.type==="polar"?ve:ce;return new t({shape:me(r,e,a),silent:!0,z2:0})}const St=ct;function wt(a){a.registerChartView(St),a.registerSeriesModel(ot),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,Je(tt,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,je),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,et("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(r,e){var t=r.componentType||"series";e.eachComponent({mainType:t,query:r},function(n){r.sortInfo&&n.axis.setCategorySortInfo(r.sortInfo)})})}const At=()=>be.get({url:"/home"}),xt={class:"dashboard-item-top"},Ct={class:"dashboard-item-left"},It={key:2,style:{marginTop:"-24px"}},Lt={key:3,style:{marginTop:"-24px"}},Dt={class:"dashboard-item-bottom"},Tt={class:"dashboard-item-block"},Pt={name:"DashboardBase"},kt=Se({...Pt,setup(a){rt([at,wt,nt]);const r=we(),e=Ae(1),t=[{title:"pages.dashboardBase.topPanel.card1",number:"¥ 28,425.00",upTrend:"20.5%",leftType:"echarts-line"},{title:"pages.dashboardBase.topPanel.card2",number:"¥ 768.00",downTrend:"20.5%",leftType:"echarts-bar"},{title:"pages.dashboardBase.topPanel.card3",number:"1126",upTrend:"20.5%",leftType:"icon-usergroup"},{title:"pages.dashboardBase.topPanel.card4",number:527,downTrend:"20.5%",leftType:"icon-file-paste"}];let n,i;const s=()=>{n||(n=document.getElementById("moneyContainer")),i=ee(n),i.setOption(J("line"))};let o,l;const h=()=>{o||(o=document.getElementById("refundContainer")),l=ee(o),l.setOption(J("bar"))},u=()=>{s(),h()},d=()=>{document.documentElement.clientWidth>=1400&&document.documentElement.clientWidth<1920?e.value=Number((document.documentElement.clientWidth/2080).toFixed(2)):document.documentElement.clientWidth<1080?e.value=Number((document.documentElement.clientWidth/1080).toFixed(2)):e.value=1,i.resize({width:e.value*120}),l.resize({width:e.value*120})},g=async()=>{const f=await At();console.log("result>>>",f)};xe(()=>{g(),u(),Ce(()=>{d()})});const{width:c,height:v}=Ie();return U([c,v],()=>{d()}),U(()=>r.brandTheme,()=>{Ee([l])}),U(()=>r.mode,()=>{[i,l].forEach(f=>{f.dispose()}),u()}),(f,S)=>{const w=M("t-icon"),T=M("t-card"),E=M("t-col"),I=M("t-row");return L(),Le(I,{gutter:[16,16]},{default:N(()=>[(L(),P(Te,null,De(t,(A,C)=>D(E,{key:A.title,xs:6,xl:3},{default:N(()=>[D(T,{title:Y(Pe)(A.title),bordered:!1,class:ke({"dashboard-item":!0,"dashboard-item--main-color":C==0})},{footer:N(()=>[k("div",Dt,[k("div",Tt,[Be(Q(f.$t("pages.dashboardBase.topPanel.cardTips"))+" ",1),D(Ne,{class:"dashboard-item-trend",type:A.upTrend?"up":"down","is-reverse-color":C===0,describe:A.upTrend||A.downTrend},null,8,["type","is-reverse-color","describe"])]),D(w,{name:"chevron-right"})])]),default:N(()=>[k("div",xt,[k("span",{style:X({fontSize:`${e.value*28}px`})},Q(A.number),5)]),k("div",Ct,[C===0?(L(),P("div",{key:0,id:"moneyContainer",class:"dashboard-chart-container",style:X({width:`${e.value*120}px`,height:"100px",marginTop:"-24px"})},null,4)):C===1?(L(),P("div",{key:1,id:"refundContainer",class:"dashboard-chart-container",style:X({width:`${e.value*120}px`,height:"56px",marginTop:"-24px"})},null,4)):C===2?(L(),P("span",It,[D(Y(it))])):(L(),P("span",Lt,[D(Y(Oe))]))])]),_:2},1032,["title","class"])]),_:2},1024)),64))]),_:1})}}});const Rt=Me(kt,[["__scopeId","data-v-e3c2c0b3"]]);export{Rt as default};
